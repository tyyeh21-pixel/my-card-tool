<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆ·å¡æ”»ç•¥ 3.0 (2026ç‰ˆ)</title>
    <style>
        :root {
            --primary: #007AFF;
            --bg: #f5f5f7;
            --card-bg: #ffffff;
            --text: #1d1d1f;
            --sub-text: #86868b;
            --warning: #ff3b30;
            --highlight: #5856d6; /* ç´«è‰²ï¼šCUBE æ–¹æ¡ˆ */
            --taishin: #e60012;   /* ç´…è‰²ï¼šå°æ–° æ–¹æ¡ˆ */
            --tag-bg: #f2f2f7;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1 { font-size: 1.4rem; margin-bottom: 20px; font-weight: 800; }

        /* æœå°‹å€å¡Š */
        .search-container {
            width: 100%;
            max-width: 450px;
            margin-bottom: 20px;
            position: sticky;
            top: 10px;
            z-index: 100;
        }

        input[type="search"] {
            width: 100%;
            padding: 16px;
            font-size: 16px;
            border-radius: 14px;
            border: 1px solid rgba(0,0,0,0.1);
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.06);
            box-sizing: border-box;
        }
        
        input[type="search"]:focus { outline: 2px solid var(--primary); }

        .hint { font-size: 0.8rem; color: var(--sub-text); margin-top: 5px; text-align: center; }

        /* çµæœåˆ—è¡¨ */
        #result-area {
            width: 100%;
            max-width: 450px;
            padding-bottom: 50px;
        }

        .result-title {
            margin: 15px 0 10px 5px;
            font-size: 0.9rem;
            color: var(--sub-text);
            font-weight: 600;
        }

        /* å¡ç‰‡æœ¬é«” */
        .card {
            background: var(--card-bg);
            border-radius: 18px;
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.03);
            border: 1px solid rgba(0,0,0,0.03);
            position: relative;
            overflow: hidden;
            transition: transform 0.2s;
        }
        
        .card.best-match {
            border: 2px solid var(--primary);
            background: #fff;
            box-shadow: 0 8px 25px rgba(0,122,255,0.12);
            transform: scale(1.01);
        }
        
        .card.best-match::after {
            content: "ğŸ‘‘ é¦–é¸";
            position: absolute;
            top: 0;
            right: 0;
            background: var(--primary);
            color: white;
            padding: 4px 12px;
            font-size: 0.8rem;
            border-bottom-left-radius: 12px;
            font-weight: bold;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: 8px;
        }

        .card-name { font-size: 1.1rem; font-weight: 800; color: #000; }
        .rate { font-size: 1.5rem; font-weight: 900; color: var(--primary); }

        /* æ¨™ç±¤åˆ— */
        .tags-row {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 12px;
        }

        .badge {
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .badge-scheme.cube { background-color: #f3f2ff; color: var(--highlight); border: 1px solid #dcdaff; }
        .badge-scheme.taishin { background-color: #fff2f2; color: var(--taishin); border: 1px solid #ffcccc; }
        .badge-method { background-color: var(--tag-bg); color: #333; }

        /* è©³ç´°è³‡è¨Šå€ */
        .details {
            background-color: #f9f9f9;
            padding: 10px;
            border-radius: 10px;
            font-size: 0.85rem;
        }

        .detail-row {
            margin-bottom: 4px;
            display: flex;
            align-items: flex-start;
        }
        
        .icon { margin-right: 6px; min-width: 16px; }
        .limit-text { color: var(--warning); }
        .period-text { color: var(--sub-text); font-size: 0.8rem; }

    </style>
</head>
<body>

    <h1>åˆ·å¡æ”»ç•¥ 3.0</h1>

    <div class="search-container">
        <input type="search" id="search-input" list="merchant-list" placeholder="è¼¸å…¥åº—å®¶ (å¦‚: éº¥ç•¶å‹, Uniqlo, æ—¥æœ¬...)">
        <div class="hint">æ”¯æ´æ¨¡ç³Šæœå°‹ï¼Œè«‹è¼¸å…¥é—œéµå­—</div>
        
        <datalist id="merchant-list">
            <option value="éº¥ç•¶å‹">
            <option value="7-11 / å…¨å®¶">
            <option value="å…¨è¯">
            <option value="Uniqlo / ZARA">
            <option value="æ–°å…‰ä¸‰è¶Š">
            <option value="è¦çš® / Momo">
            <option value="æ—¥æœ¬æµ·å¤–">
            <option value="é«˜éµ">
            <option value="å¤§æ¸¯é–‹å”±">
        </datalist>
    </div>

    <div id="result-area">
        </div>

    <script>
        /* è³‡æ–™åº«çµæ§‹èªªæ˜ï¼š
           - keywords: é—œéµå­—é™£åˆ— (å…¨éƒ¨å°å¯«)
           - cardName: å¡ç‰‡åç¨±
           - scheme: éœ€åˆ‡æ›çš„æ¬Šç›Šæ–¹æ¡ˆ (Cube/Taishin)
           - schemeType: 'cube' æˆ– 'taishin' (æ§åˆ¶é¡è‰²)
           - method: æ”¯ä»˜æ–¹å¼ (Apple Pay, å¯¦é«”å¡...)
           - rate: å›é¥‹ç‡å­—ä¸²
           - sortVal: æ’åºåˆ†æ•¸ (æ•¸å€¼è¶Šå¤§æ’è¶Šå‰)
           - limit: ä¸Šé™èˆ‡å‚™è¨»
           - period: é©ç”¨æœŸé–“
        */

        const rules = [
            // ==========================================
            // ç‰¹æ®Šæ´»å‹•ï¼šå¤§æ¸¯é–‹å”± / ç˜‹å¤§æ¸¯ (å„ªå…ˆç´šæœ€é«˜)
            // ==========================================
            {
                keywords: ["å¤§æ¸¯é–‹å”±", "ç˜‹å¤§æ¸¯", "æ‹“å…ƒ", "klook", "é«˜é›„ä½å®¿", "åŸå¸‚å•†æ—…", "éº—å°Š", "å’Œé€¸", "è¯åœ’", "æ·çµ²æ—…"],
                cardName: "åœ‹æ³° CUBE å¡",
                scheme: "åˆ‡æ›ã€ç˜‹å¤§æ¸¯ã€‘",
                schemeType: "cube",
                method: "å®˜ç¶²/ç¾å ´åˆ·å¡",
                rate: "3.5%~10%",
                sortVal: 10.0,
                limit: "å”®ç¥¨/ä½å®¿/é«˜éµ3.5%ï¼Œç¾å ´å‘¨é‚Š10% (éœ€å°æ‡‰MCC code)",
                period: "2025/12/16 ~ 2026/3/23"
            },
            {
                keywords: ["å¤§æ¸¯é–‹å”±", "å¤§æ¸¯å€‰", "æ£§äºŒåº«", "æ˜Ÿå·´å…‹", "å·¦è…³å³è…³"],
                cardName: "åœ‹æ³° CUBE å¡",
                scheme: "åˆ‡æ›ã€ç˜‹å¤§æ¸¯ã€‘",
                schemeType: "cube",
                method: "æŒ‡å®šé–€å¸‚åˆ·å¡",
                rate: "10%",
                sortVal: 10.1,
                limit: "å¤§æ¸¯å‘¨é‚ŠæŒ‡å®šåº—å®¶ï¼Œæœ€é«˜å›é¥‹",
                period: "2026/3/21 ~ 2026/3/23 (åƒ…ä¸‰å¤©)"
            },

            // ==========================================
            // CUBE æ…¶ç”Ÿæœˆ (å£½æ˜Ÿå°ˆå±¬ - 10%)
            // ==========================================
            {
                keywords: ["æ«»æ¡ƒè°·", "å¯Œç¾æµ·é®®", "ä¸Šä¹˜ä¸‰å®¶", "èŒ¶å®´", "è‚‰è‚‰é¤æ¡Œ", "æ­é„‰ç‰›æ’", "è€æ™‚å…‰", "ç«è»Šé ­", "å°å’Œå±±è°·", "å±‹è³€çˆº", "å®œè˜­", "èŠ±è“®", "å°æ±"],
                cardName: "åœ‹æ³° CUBE å¡",
                scheme: "åˆ‡æ›ã€æ…¶ç”Ÿæœˆã€‘",
                schemeType: "cube",
                method: "å¯¦é«”å¡",
                rate: "10%",
                sortVal: 9.5,
                limit: "å£½æ˜Ÿå°ˆå±¬ (å®œèŠ±æ±ç¾é£Ÿ)",
                period: "2026/1/1 ~ 2026/3/31"
            },
            {
                keywords: ["tutto bello", "the æ˜¥", "é¦™è‰²", "fugu", "creammm.t", "miss v", "ç´…è‘‰è›‹ç³•", "ä¸ƒè¦‹æ«»å ‚", "beape", "gras"],
                cardName: "åœ‹æ³° CUBE å¡",
                scheme: "åˆ‡æ›ã€æ…¶ç”Ÿæœˆã€‘",
                schemeType: "cube",
                method: "å¯¦é«”å¡",
                rate: "10%",
                sortVal: 9.5,
                limit: "å£½æ˜Ÿå°ˆå±¬ (é¤é…’/ç”œé»)",
                period: "2026/1/1 ~ 2026/3/31"
            },
            {
                keywords: ["éŒ¢æ«ƒ", "å¥½æ¨‚è¿ª", "æ˜Ÿèšé»", "äº«æº«é¦¨", "ktv"],
                cardName: "åœ‹æ³° CUBE å¡",
                scheme: "åˆ‡æ›ã€æ…¶ç”Ÿæœˆã€‘",
                schemeType: "cube",
                method: "å¯¦é«”å¡",
                rate: "10%",
                sortVal: 9.5,
                limit: "å£½æ˜Ÿå°ˆå±¬ (KTV)",
                period: "2026/1/1 ~ 2026/3/31"
            },
            // è‹¥éå£½æ˜Ÿï¼ŒKTV æ¨è–¦å°æ–°
            {
                keywords: ["éŒ¢æ«ƒ", "å¥½æ¨‚è¿ª", "oncor", "äº«æº«é¦¨", "ktv"],
                cardName: "å°æ–° Richart å¡",
                scheme: "åˆ‡æ›ã€å¥½é¥—åˆ·ã€‘",
                schemeType: "taishin",
                method: "å¯¦é«”å¡ / å°æ–°Pay",
                rate: "3.3%",
                sortVal: 3.3,
                limit: "è‹¥éå£½æ˜Ÿè«‹ç”¨æ­¤æ–¹æ¡ˆ",
                period: "2026/1/1 ~ 2026/6/30"
            },

            // ==========================================
            // éº¥ç•¶å‹ / é€Ÿé£Ÿ (é‡é»ï¼šå°é¡æ”¯ä»˜)
            // ==========================================
            {
                keywords: ["éº¥ç•¶å‹", "mcdonald", "é€Ÿé£Ÿ"],
                cardName: "å°æ–° Richart å¡",
                scheme: "åˆ‡æ›ã€Payè‘—åˆ·ã€‘",
                schemeType: "taishin",
                method: "ç¶å®š å°ç£Pay",
                rate: "3.8%",
                sortVal: 3.8,
                limit: "éœ€ç”¨å°ç£Pay (ä¸èƒ½ç”¨Line Pay)",
                period: "2026/1/1 ~ 2026/6/30"
            },
            {
                keywords: ["éº¥ç•¶å‹", "mcdonald", "é€Ÿé£Ÿ"],
                cardName: "åœ‹æ³° CUBE å¡",
                scheme: "åˆ‡æ›ã€æ¨‚é¥—è³¼ã€‘",
                schemeType: "cube",
                method: "å¯¦é«”å¡ / Apple Pay",
                rate: "3%",
                sortVal: 3.0,
                limit: "å°é¡æ”¯ä»˜æœ‰å›é¥‹",
                period: "2026/1/1 ~ 2026/6/30"
            },
            {
                keywords: ["éº¥ç•¶å‹", "mcdonald", "é€Ÿé£Ÿ", "å°é¡", "é£²æ–™"],
                cardName: "æ°¸è±å¤§æˆ¶ (æ‚ éŠå¡)",
                scheme: null,
                schemeType: null,
                method: "æ‚ éŠå¡æ„Ÿæ‡‰ (å—¶å¡)",
                rate: "3%",
                sortVal: 2.9, // æ’åœ¨ Cube å¾Œé¢ç•¶å‚™é¸
                limit: "éœ€å¤§æˆ¶ç­‰ç´šï¼Œä¸Šé™ $100/æœˆ",
                period: "é•·æœŸæœ‰æ•ˆ"
            },

            // ==========================================
            // è¶…å•† (7-11 / å…¨å®¶)
            // ==========================================
            {
                keywords: ["7-11", "seven", "å…¨å®¶", "è¶…å•†", "ä¾¿åˆ©å•†åº—"],
                cardName: "å°æ–° Richart å¡",
                scheme: "åˆ‡æ›ã€Payè‘—åˆ·ã€‘",
                schemeType: "taishin",
                method: "ç¶å®š å°æ–°Pay",
                rate: "3.8%",
                sortVal: 3.8,
                limit: "æ³¨æ„ï¼šè¦ç”¨å°æ–°Payï¼ŒLine Pay åƒ… 2.3%",
                period: "2026/1/1 ~ 2026/6/30"
            },
            {
                keywords: ["7-11", "seven", "å…¨å®¶", "è¶…å•†"],
                cardName: "åœ‹æ³° CUBE å¡",
                scheme: "åˆ‡æ›ã€é›†ç²¾é¸ã€‘",
                schemeType: "cube",
                method: "OPENéŒ¢åŒ… / FamiPay",
                rate: "2%",
                sortVal: 2.0,
                limit: "æ³¨æ„ï¼šå¯¦é«”å¡ç„¡å›é¥‹ï¼Œéœ€ç¶æŒ‡å®šéŒ¢åŒ…",
                period: "2026/1/1 ~ 2026/6/30"
            },

            // ==========================================
            // åœ‹å…§ç™¾è²¨ / è³¼ç‰© / æœé£¾
            // ==========================================
            {
                keywords: ["æ–°å…‰ä¸‰è¶Š", "sogo", "é æ±ç™¾è²¨", "101", "å·¨åŸ", "æ¼¢ç¥", "å¾®é¢¨", "èª å“", "eslite", "å¤¢æ™‚ä»£", "å—ç´¡", "äº¬ç«™", "outlet", "skm"],
                cardName: "å°æ–° Richart å¡",
                scheme: "åˆ‡æ›ã€å¤§ç­†åˆ·ã€‘",
                schemeType: "taishin",
                method: "å°æ–°Pay / å¯¦é«”å¡",
                rate: "3.3%",
                sortVal: 3.3,
                limit: "å« skm pay",
                period: "2026/1/1 ~ 2026/6/30"
            },
            {
                keywords: ["æ–°å…‰ä¸‰è¶Š", "sogo", "é æ±ç™¾è²¨", "101", "å·¨åŸ", "æ¼¢ç¥", "å¾®é¢¨", "èª å“", "eslite", "å¤¢æ™‚ä»£", "å—ç´¡", "äº¬ç«™", "outlet"],
                cardName: "åœ‹æ³° CUBE å¡",
                scheme: "åˆ‡æ›ã€æ¨‚é¥—è³¼ã€‘",
                schemeType: "cube",
                method: "å¯¦é«”å¡",
                rate: "3%",
                sortVal: 3.0,
                limit: "æ³¨æ„ï¼šUNIQLO/ZARA ä¸åœ¨æ­¤é … (å±¬åº—ä¸­æ«ƒ)",
                period: "2026/1/1 ~ 2026/6/30"
            },
            
            // Uniqlo / Zara / å¿«æ™‚å°š (CUBE æ¨‚é¥—è³¼æ’é™¤ï¼Œå°æ–° å¤§ç­†åˆ· åŒ…å«)
            {
                keywords: ["uniqlo", "gu", "zara", "net", "h&m", "gap", "lululemon"],
                cardName: "å°æ–° Richart å¡",
                scheme: "åˆ‡æ›ã€å¤§ç­†åˆ·ã€‘",
                schemeType: "taishin",
                method: "å¯¦é«”å¡ / Apple Pay",
                rate: "3.3%",
                sortVal: 3.3,
                limit: "æ™‚å°šå“å‘³é€šè·¯",
                period: "2026/1/1 ~ 2026/6/30"
            },

            // ==========================================
            // é¤å»³ / å¤–é€
            // ==========================================
            {
                keywords: ["é¤å»³", "åƒé£¯", "ç‹å“", "é¼æ³°è±", "æ˜Ÿå·´å…‹", "è·¯æ˜“è", "æ—©é¤"],
                cardName: "å°æ–° Richart å¡",
                scheme: "åˆ‡æ›ã€å¥½é¥—åˆ·ã€‘",
                schemeType: "taishin",
                method: "å¯¦é«”å¡ / å°æ–°Pay",
                rate: "3.3%",
                sortVal: 3.3,
                limit: "å…¨å°é¤é£²çš†é©ç”¨",
                period: "2026/1/1 ~ 2026/6/30"
            },
            {
                keywords: ["uber eats", "ubereats", "foodpanda", "å¤–é€"],
                cardName: "å°æ–° Richart å¡",
                scheme: "åˆ‡æ›ã€å¥½é¥—åˆ·ã€‘",
                schemeType: "taishin",
                method: "ç¶å®š App",
                rate: "3.3%",
                sortVal: 3.3,
                limit: "å¤–é€é›™é›„çš†å¯",
                period: "2026/1/1 ~ 2026/6/30"
            },
            {
                keywords: ["uber eats", "ubereats", "foodpanda", "å¤–é€"],
                cardName: "åœ‹æ³° CUBE å¡",
                scheme: "åˆ‡æ›ã€æ¨‚é¥—è³¼ã€‘",
                schemeType: "cube",
                method: "ç¶å®š App",
                rate: "3%",
                sortVal: 3.0,
                limit: "ç„¡ä¸Šé™",
                period: "2026/1/1 ~ 2026/6/30"
            },

            // ==========================================
            // ç¶²è³¼ / é›»å•† / éŠæˆ²
            // ==========================================
            {
                keywords: ["è¦çš®", "momo", "pchome", "æ·˜å¯¶", "é…·æ¾", "coupang", "amazon", "åšå®¢ä¾†"],
                cardName: "å°æ–° Richart å¡",
                scheme: "åˆ‡æ›ã€æ•¸è¶£åˆ·ã€‘",
                schemeType: "taishin",
                method: "ç›´æ¥åˆ·å¡",
                rate: "3.3%",
                sortVal: 3.3,
                limit: "ç¶²è³¼ç¥å¡",
                period: "2026/1/1 ~ 2026/6/30"
            },
            {
                keywords: ["è¦çš®", "momo", "pchome", "é…·æ¾", "æ·˜å¯¶"],
                cardName: "åœ‹æ³° CUBE å¡",
                scheme: "åˆ‡æ›ã€ç©æ•¸ä½ã€‘",
                schemeType: "cube",
                method: "ç›´æ¥åˆ·å¡",
                rate: "3%",
                sortVal: 3.0,
                limit: "æ³¨æ„ PChome ä¸å«å„²å€¼",
                period: "2026/1/1 ~ 2026/6/30"
            },
            {
                keywords: ["steam", "playstation", "nintendo", "netflix", "disney", "youtube", "spotify", "chatgpt"],
                cardName: "å°æ–° Richart å¡",
                scheme: "åˆ‡æ›ã€æ•¸è¶£åˆ·ã€‘",
                schemeType: "taishin",
                method: "ç¶å®šæ‰£æ¬¾",
                rate: "3.3%",
                sortVal: 3.3,
                limit: "éŠæˆ²/å½±éŸ³/AI",
                period: "2026/1/1 ~ 2026/6/30"
            },

            // ==========================================
            // äº¤é€š / åŠ æ²¹
            // ==========================================
            {
                keywords: ["é«˜éµ", "å°éµ", "uber", "yoxi", "è¨ˆç¨‹è»Š", "ä¸­æ²¹", "åŠ æ²¹", "å……é›»"],
                cardName: "å°æ–° Richart å¡",
                scheme: "åˆ‡æ›ã€å¤©å¤©åˆ·ã€‘",
                schemeType: "taishin",
                method: "åˆ·å¡ / ç¶å¡",
                rate: "3.3%",
                sortVal: 3.3,
                limit: "é€šå‹¤æ—é¦–é¸",
                period: "2026/1/1 ~ 2026/6/30"
            },
            {
                keywords: ["ä¸­æ²¹", "é«˜éµ", "å……é›»"],
                cardName: "åœ‹æ³° CUBE å¡",
                scheme: "åˆ‡æ›ã€é›†ç²¾é¸ã€‘",
                schemeType: "cube",
                method: "å¯¦é«”å¡",
                rate: "2%",
                sortVal: 2.0,
                limit: "ä¸­æ²¹é™ç›´ç‡Ÿ",
                period: "2026/1/1 ~ 2026/6/30"
            },

            // ==========================================
            // æµ·å¤– / æ—…éŠ / è¨‚æˆ¿
            // ==========================================
            {
                keywords: ["æ—¥æœ¬", "éŸ“åœ‹", "æµ·å¤–", "åœ‹å¤–", "è¯èˆª", "é•·æ¦®", "æ˜Ÿå®‡", "agoda", "klook", "booking"],
                cardName: "åŒ¯è±æ—…äººç„¡é™",
                scheme: null,
                schemeType: null,
                method: "å¯¦é«”å¡",
                rate: "10å…ƒ/å“©",
                sortVal: 4.5, // å“©ç¨‹åƒ¹å€¼é«˜ï¼Œæ’å‰é¢
                limit: "æµ·å¤–å›é¥‹æœ€å¼·ï¼Œç„¡ä¸Šé™",
                period: "é•·æœŸæœ‰æ•ˆ"
            },
            {
                keywords: ["æ—¥æœ¬", "éŸ“åœ‹", "æµ·å¤–", "agoda", "klook", "booking", "æ©Ÿç¥¨"],
                cardName: "å°æ–° Richart å¡",
                scheme: "åˆ‡æ›ã€ç©æ—…åˆ·ã€‘",
                schemeType: "taishin",
                method: "å¯¦é«”å¡",
                rate: "3.3%",
                sortVal: 3.3,
                limit: "æµ·å¤–/è¨‚æˆ¿/æ©Ÿç¥¨",
                period: "2026/1/1 ~ 2026/6/30"
            },
            {
                keywords: ["æ—¥æœ¬", "éŸ“åœ‹", "æµ·å¤–", "agoda", "klook", "booking"],
                cardName: "åœ‹æ³° CUBE å¡",
                scheme: "åˆ‡æ›ã€è¶£æ—…è¡Œã€‘",
                schemeType: "cube",
                method: "å¯¦é«”å¡",
                rate: "3%",
                sortVal: 3.0,
                limit: "æ—¥éŸ“æ³°æ–°ç­‰åœ‹å®¶",
                period: "2026/1/1 ~ 2026/6/30"
            },

            // ==========================================
            // ç«¥æ¨‚åŒ¯ (è¦ªå­å°ˆå±¬)
            // ==========================================
            {
                keywords: ["10mois", "mamas", "tiger family", "æœ±å®—æ…¶", "yamaha", "tutorabc"],
                cardName: "åœ‹æ³° CUBE å¡",
                scheme: "åˆ‡æ›ã€ç«¥æ¨‚åŒ¯ã€‘",
                schemeType: "cube",
                method: "å®˜ç¶²/å¯¦é«”",
                rate: "10%",
                sortVal: 10.0,
                limit: "éœ€ç¬¦åˆè¦ªå­è³‡æ ¼ (æŒ‡å®šå®˜ç¶²/èª²ç¨‹)",
                period: "2026/1/1 ~ 2026/6/30"
            },
            {
                keywords: ["é›æ¹¯å¤§å”", "yayoi", "å¤§æˆ¶å±‹", "è²³æ¨“", "è¦ªå­é¤å»³", "éº—å¯¶", "å…­ç¦æ‘"],
                cardName: "åœ‹æ³° CUBE å¡",
                scheme: "åˆ‡æ›ã€ç«¥æ¨‚åŒ¯ã€‘",
                schemeType: "cube",
                method: "å¯¦é«”å¡",
                rate: "5%",
                sortVal: 5.0,
                limit: "éœ€ç¬¦åˆè¦ªå­è³‡æ ¼",
                period: "2026/1/1 ~ 2026/6/30"
            },

            // ==========================================
            // è—¥å¦ / è—¥å±€
            // ==========================================
            {
                keywords: ["åº·æ˜¯ç¾", "å±ˆè‡£æ°", "å¤§æ¨¹è—¥å±€", "ä¸ä¸", "æä¸€"],
                cardName: "å°æ–° Richart å¡",
                scheme: "åˆ‡æ›ã€å¤©å¤©åˆ·ã€‘",
                schemeType: "taishin",
                method: "å¯¦é«”å¡",
                rate: "3.3%",
                sortVal: 3.3,
                limit: "è—¥å¦/è—¥å±€",
                period: "2026/1/1 ~ 2026/6/30"
            },
            {
                keywords: ["åº·æ˜¯ç¾", "å±ˆè‡£æ°"],
                cardName: "åœ‹æ³° CUBE å¡",
                scheme: "åˆ‡æ›ã€æ¨‚é¥—è³¼ã€‘",
                schemeType: "cube",
                method: "å¯¦é«”å¡",
                rate: "3%",
                sortVal: 3.0,
                limit: "é™æŒ‡å®šè—¥å¦",
                period: "2026/1/1 ~ 2026/6/30"
            },

            // ==========================================
            // å…œåº•èˆ‡é€šç”¨ (Default)
            // ==========================================
            {
                keywords: ["default"],
                cardName: "åŒ¯è±æ—…äººç„¡é™",
                scheme: null,
                schemeType: null,
                method: "å¯¦é«”å¡",
                rate: "18å…ƒ/å“©",
                sortVal: 2.5,
                limit: "åœ‹å…§ä¸€èˆ¬æ¶ˆè²» / ç„¡è…¦åˆ·",
                period: "é•·æœŸæœ‰æ•ˆ"
            },
            {
                keywords: ["default"],
                cardName: "æ°¸è±å¤§æˆ¶",
                scheme: null,
                schemeType: null,
                method: "å¯¦é«”å¡",
                rate: "2%",
                sortVal: 2.0,
                limit: "ç¾é‡‘å›é¥‹ (éœ€å¤§æˆ¶ç­‰ç´š)",
                period: "é•·æœŸæœ‰æ•ˆ"
            },
            {
                keywords: ["default"],
                cardName: "å°æ–° Richart å¡",
                scheme: "åˆ‡æ›ã€å‡æ—¥åˆ·ã€‘",
                schemeType: "taishin",
                method: "Line Pay / å¯¦é«”",
                rate: "2%",
                sortVal: 1.8,
                limit: "åƒ…é™é€±æœ«å‡æ—¥ / ä¸€èˆ¬æ¶ˆè²»å…œåº•",
                period: "2026/1/1 ~ 2026/6/30"
            }
        ];

        // -----------------------------------------------------------
        // ç¨‹å¼é‚è¼¯å€
        // -----------------------------------------------------------
        const input = document.getElementById('search-input');
        const resultArea = document.getElementById('result-area');

        window.onload = () => findBestCard("");

        input.addEventListener('input', (e) => {
            const query = e.target.value.toLowerCase().trim();
            findBestCard(query);
        });

        function findBestCard(query) {
            resultArea.innerHTML = "";
            let matches = [];
            let isGeneral = false;

            if (!query) {
                matches = rules.filter(r => r.keywords.includes("default"));
                resultArea.innerHTML += `<div class="result-title">ğŸŒŸ ç„¡ç‰¹å®šé€šè·¯ï¼Ÿæ¨è–¦ç„¡è…¦åˆ·ï¼š</div>`;
                isGeneral = true;
            } else {
                // æœå°‹é‚è¼¯ï¼šåŒ…å«é—œéµå­—
                matches = rules.filter(rule => {
                    return rule.keywords.some(k => query.includes(k) || k.includes(query));
                });

                if (matches.length === 0) {
                    matches = rules.filter(r => r.keywords.includes("default"));
                    resultArea.innerHTML += `<div class="result-title">ğŸ¤” è³‡æ–™åº«æ‰¾ä¸åˆ° "${input.value}"ï¼Œå»ºè­°ä½¿ç”¨ï¼š</div>`;
                    isGeneral = true;
                } else {
                    resultArea.innerHTML += `<div class="result-title">ğŸ” "${input.value}" æœ€ä½³åˆ·å¡ç­–ç•¥ï¼š</div>`;
                }
            }

            // æ’åºï¼šä¾ç…§ sortVal ç”±å¤§åˆ°å°
            matches.sort((a, b) => b.sortVal - a.sortVal);

            matches.forEach((card, index) => {
                const isBest = (!isGeneral && index === 0) ? 'best-match' : '';
                
                // è™•ç† Scheme æ¨™ç±¤é¡è‰²
                let schemeHtml = '';
                if (card.scheme) {
                    const badgeClass = card.schemeType === 'cube' ? 'badge-scheme cube' : 'badge-scheme taishin';
                    schemeHtml = `<span class="badge ${badgeClass}">${card.scheme}</span>`;
                }

                const html = `
                    <div class="card ${isBest}">
                        <div class="card-header">
                            <div class="card-name">${card.cardName}</div>
                            <div class="rate">${card.rate}</div>
                        </div>
                        
                        <div class="tags-row">
                            ${schemeHtml}
                            <span class="badge badge-method">ğŸ’³ ${card.method}</span>
                        </div>

                        <div class="details">
                            <div class="detail-row">
                                <span class="icon">âš ï¸</span>
                                <span class="limit-text">${card.limit}</span>
                            </div>
                            <div class="detail-row">
                                <span class="icon">ğŸ“…</span>
                                <span class="period-text">é©ç”¨ï¼š${card.period}</span>
                            </div>
                        </div>
                    </div>
                `;
                resultArea.innerHTML += html;
            });
        }
    </script>
</body>
</html>
