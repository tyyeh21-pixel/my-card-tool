<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆ·å¡æ”»ç•¥ 9.0 (å…¨é€šè·¯çµ‚æ¥µç‰ˆ)</title>
    <style>
        :root {
            --primary: #007AFF;
            --bg: #f5f5f7;
            --card-bg: #ffffff;
            --text: #1d1d1f;
            --sub-text: #86868b;
            --warning: #ff3b30;
            --highlight: #5856d6;
            --taishin: #e60012;
            --tag-bg: #f2f2f7;
            --pay-bg: #e8f5e9;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1 { font-size: 1.4rem; margin-bottom: 20px; font-weight: 800; }

        .search-container {
            width: 100%;
            max-width: 450px;
            margin-bottom: 20px;
            position: sticky;
            top: 10px;
            z-index: 100;
        }

        input[type="search"] {
            width: 100%;
            padding: 16px;
            font-size: 16px;
            border-radius: 14px;
            border: 1px solid rgba(0,0,0,0.1);
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.06);
            box-sizing: border-box;
        }
        
        input[type="search"]:focus { outline: 2px solid var(--primary); }

        #result-area {
            width: 100%;
            max-width: 450px;
            padding-bottom: 50px;
        }

        .group-header {
            margin: 30px 0 15px 0;
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text);
            border-bottom: 2px solid #e5e5ea;
            padding-bottom: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .result-title {
            margin: 10px 0;
            font-size: 0.9rem;
            color: var(--sub-text);
            text-align: center;
        }

        .card {
            background: var(--card-bg);
            border-radius: 18px;
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.03);
            border: 1px solid rgba(0,0,0,0.03);
            position: relative;
            overflow: hidden;
        }
        
        .card.best-match {
            border: 2px solid var(--primary);
            background: #fff;
            box-shadow: 0 8px 25px rgba(0,122,255,0.12);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: 8px;
        }

        .card-name { font-size: 1.1rem; font-weight: 800; color: #000; }
        .rate { font-size: 1.5rem; font-weight: 900; color: var(--primary); }

        .tags-row { display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 12px; }
        .badge { padding: 4px 8px; border-radius: 6px; font-size: 0.85rem; font-weight: 600; }
        .badge-scheme.cube { background-color: #f3f2ff; color: var(--highlight); border: 1px solid #dcdaff; }
        .badge-scheme.taishin { background-color: #fff2f2; color: var(--taishin); border: 1px solid #ffcccc; }
        .badge-method { background-color: var(--tag-bg); color: #333; }
        .badge-pay { background-color: var(--pay-bg); color: #2e7d32; border: 1px solid #c8e6c9; }

        .details { background-color: #f9f9f9; padding: 10px; border-radius: 10px; font-size: 0.85rem; }
        .detail-row { margin-bottom: 4px; display: flex; align-items: flex-start; }
        .icon { margin-right: 6px; min-width: 16px; }
        .limit-text { color: var(--warning); }
        .period-text { color: var(--sub-text); font-size: 0.8rem; }
        
        .keywords-preview {
            font-size: 0.75rem;
            color: #ccc;
            margin-top: 8px;
            border-top: 1px dashed #eee;
            padding-top: 5px;
        }

    </style>
</head>
<body>

    <h1>åˆ·å¡æ”»ç•¥ 9.0</h1>

    <div class="search-container">
        <input type="search" id="search-input" list="merchant-list" placeholder="è¼¸å…¥é—œéµå­— (å¦‚: é›„ç…, å¯¶é›…, Netflix...)">
        
        <datalist id="merchant-list">
            <option value="æ—¥æœ¬ / éŸ“åœ‹ / æµ·å¤–">
            <option value="Agoda / Klook / é›„ç…">
            <option value="åœ‹æ³°èˆªç©º / æ˜Ÿå®‡">
            <option value="Netflix / YouTube / Disney+">
            <option value="å±ˆè‡£æ° / åº·æ˜¯ç¾ / å¯¶é›…">
            <option value="éº¥ç•¶å‹ / è‚¯å¾·åŸº">
            <option value="é«˜éµ / Uber / åŠ æ²¹">
            <option value="ç”Ÿæ´»ç¹³è²» / æ‚ éŠå¡">
            <option value="å®¶æ¨‚ç¦ / å…¨è¯ / LOPIA">
            <option value="æ–°å…‰ä¸‰è¶Š / é æ±SOGO">
            <option value="UNIQLO / ZARA / NET">
        </datalist>
    </div>

    <div id="result-area">
        </div>

    <script>
        // -----------------------------------------------------------
        // è³‡æ–™åº« 9.0 - å®Œæ•´æ”¶éŒ„å°æ–°æ¬Šç›Šèˆ‡ CUBE æ¬Šç›Š
        // -----------------------------------------------------------
        const rules = [
            
            // ==========================================
            // 1. èˆªç©º / æ—…è¡Œç¤¾ / è¨‚æˆ¿ç¶² (å®Œæ•´æ¸…å–®)
            // ==========================================
            {
                group: "âœˆï¸ èˆªç©ºå…¬å¸ / æ©Ÿç¥¨",
                keywords: ["åœ‹æ³°èˆªç©º", "cathay", "è¯èˆª", "china airlines", "é•·æ¦®", "eva", "æ˜Ÿå®‡", "starlux", "è™èˆª", "tigerair", "ç«‹æ¦®", "è¯ä¿¡", "æ¨‚æ¡ƒ", "peach", "é˜¿è¯é…‹", "emirates", "é…·èˆª", "scoot", "æ·æ˜Ÿ", "jetstar", "æ–°åŠ å¡èˆªç©º", "sq", "æ—¥æœ¬èˆªç©º", "jal", "ana", "å…¨æ—¥ç©º", "äºæ´²èˆªç©º", "airasia", "è¶Šæ·", "å¤§éŸ“", "é”ç¾", "åœŸè€³å…¶", "å¡é”", "æ³•åœ‹èˆªç©º", "è¯åˆèˆªç©º"],
                cardName: "å°æ–° Richart å¡",
                scheme: "åˆ‡æ›ã€ç©æ—…åˆ·ã€‘", schemeType: "taishin",
                method: "å®˜ç¶²/App", rate: "3.3%", sortVal: 3.3,
                limit: "æ¶µè“‹å¤§éƒ¨åˆ†åœ‹ç±èˆ‡åœ‹éš›èˆªç©º",
                period: "2026/1/1 ~ 2026/6/30"
            },
            {
                group: "âœˆï¸ èˆªç©ºå…¬å¸ / æ©Ÿç¥¨",
                keywords: ["åœ‹æ³°èˆªç©º", "cathay", "è¯èˆª", "é•·æ¦®", "æ˜Ÿå®‡", "è™èˆª", "æ¨‚æ¡ƒ", "é˜¿è¯é…‹", "é…·èˆª", "æ·æ˜Ÿ", "æ—¥æœ¬èˆªç©º", "ana", "å…¨æ—¥ç©º", "äºæ´²èˆªç©º", "è¯åˆèˆªç©º", "æ–°åŠ å¡èˆªç©º", "è¶Šæ·", "å¤§éŸ“", "é”ç¾", "åœŸè€³å…¶", "å¡é”", "æ³•åœ‹èˆªç©º"],
                cardName: "åœ‹æ³° CUBE å¡",
                scheme: "åˆ‡æ›ã€è¶£æ—…è¡Œã€‘", schemeType: "cube",
                method: "å®˜ç¶²/App", rate: "3%", sortVal: 3.0,
                limit: "æŒ‡å®šèˆªç©ºå…¬å¸",
                period: "2026/1/1 ~ 2026/6/30"
            },
            {
                group: "ğŸ¨ æ—…è¡Œç¤¾ / è¨‚æˆ¿ / æ—…éŠå¹³å°",
                keywords: ["é›„ç…", "lion", "æ˜“éŠç¶²", "eztravel", "æ±å—", "å¯æ¨‚", "cola", "é•·æ±", "äº”ç¦", "å–œé´»", "æ˜“é£›", "ç‡¦æ˜Ÿ", "åŠ åˆ©åˆ©", "é³³å‡°", "å±±å¯Œ", "è¡Œå¥", "klook", "kkday", "agoda", "booking", "trip", "airbnb", "hotels", "expedia", "funnow", "æ‹“å…ƒ", "å¯¬å®", "å¹´ä»£å”®ç¥¨"],
                cardName: "å°æ–° Richart å¡",
                scheme: "åˆ‡æ›ã€ç©æ—…åˆ·ã€‘(éƒ¨åˆ†å¥½é¥—åˆ·)", schemeType: "taishin",
                method: "å¯¦é«”/ç·šä¸Š", rate: "3.3%", sortVal: 3.3,
                limit: "ç©æ—…åˆ·(æ—…è¡Œç¤¾/è¨‚æˆ¿)ã€å¥½é¥—åˆ·(å”®ç¥¨)",
                period: "2026/1/1 ~ 2026/6/30"
            },
            {
                group: "ğŸ¨ æ—…è¡Œç¤¾ / è¨‚æˆ¿ / æ—…éŠå¹³å°",
                keywords: ["é›„ç…", "æ˜“éŠç¶²", "å¯æ¨‚", "æ±å—", "äº”ç¦", "ç‡¦æ˜Ÿ", "å±±å¯Œ", "é•·æ±", "é³³å‡°", "æ˜“é£›", "ç†æƒ³", "æ°¸åˆ©", "ä¸‰è³€", "klook", "kkday", "agoda", "airbnb", "booking", "trip", "funnow"],
                cardName: "åœ‹æ³° CUBE å¡",
                scheme: "åˆ‡æ›ã€è¶£æ—…è¡Œã€‘", schemeType: "cube",
                method: "å¯¦é«”/ç·šä¸Š", rate: "3% (éƒ¨åˆ†3.5%)", sortVal: 3.0,
                limit: "FunNowå±¬æ¨‚é¥—è³¼(3.5%)",
                period: "2026/1/1 ~ 2026/6/30"
            },

            // ==========================================
            // 2. æµ·å¤–æ¶ˆè²» (å¯¦é«” & ç¶²è³¼)
            // ==========================================
            {
                group: "ğŸŒ æµ·å¤–ç¶²è³¼ / åœ‹å¤–äº¤æ˜“",
                keywords: ["æµ·å¤–ç¶²è³¼", "amazon", "iherb", "asos", "æ·˜å¯¶", "taobao", "shein", "farfetch", "olive young", "æµ·å¤–ç·šä¸Š"],
                cardName: "å°æ–° Richart å¡",
                scheme: "åˆ‡æ›ã€ç©æ—…åˆ·ã€‘/ã€æ•¸è¶£åˆ·ã€‘", schemeType: "taishin",
                method: "ç·šä¸Šåˆ·å¡", rate: "3.3%", sortVal: 3.3,
                limit: "æ•¸è¶£åˆ·å«æ·˜å¯¶/Amazon/Sheinï¼Œå…¶é¤˜ç©æ—…åˆ·",
                period: "2026/1/1 ~ 2026/6/30"
            },
            {
                group: "ğŸŒ æµ·å¤–ç¶²è³¼ / åœ‹å¤–äº¤æ˜“",
                keywords: ["æ·˜å¯¶", "taobao", "coupang", "é…·æ¾", "amazon"],
                cardName: "åœ‹æ³° CUBE å¡",
                scheme: "åˆ‡æ›ã€ç©æ•¸ä½ã€‘/ã€è¶£æ—…è¡Œã€‘", schemeType: "cube",
                method: "ç·šä¸Šåˆ·å¡", rate: "3%", sortVal: 3.0,
                limit: "æ·˜å¯¶/é…·æ¾å±¬ç©æ•¸ä½",
                period: "2026/1/1 ~ 2026/6/30"
            },
            {
                group: "ğŸ’´ æ—¥æœ¬ / éŸ“åœ‹ / å¯¦é«”æµ·å¤–",
                keywords: ["æ—¥æœ¬", "japan", "éŸ“åœ‹", "korea", "æµ·å¤–å¯¦é«”", "daiso", "gs25", "emart24", "donki"],
                cardName: "å°æ–° Richart å¡",
                scheme: "åˆ‡æ›ã€Payè‘—åˆ·ã€‘/ã€ç©æ—…åˆ·ã€‘", schemeType: "taishin",
                method: "ç¶å®š å°æ–°Pay+ / å¯¦é«”å¡", rate: "3.3%~3.8%", sortVal: 3.8,
                limit: "æµ·å¤–å¯¦é«”3.3%ï¼Œæ—¥éŸ“è¶…å•†ç”¨å°æ–°Pay+äº«3.8%å…æ‰‹çºŒè²»",
                period: "2026/1/1 ~ 2026/6/30"
            },
            {
                group: "ğŸ’´ æ—¥æœ¬ / éŸ“åœ‹ / å¯¦é«”æµ·å¤–",
                keywords: ["æ—¥æœ¬", "éŸ“åœ‹", "æµ·å¤–å¯¦é«”", "æ­ç›Ÿ", "è‹±åœ‹"],
                cardName: "åŒ¯è±æ—…äººç„¡é™",
                scheme: null, schemeType: null,
                method: "å¯¦é«”å¡", rate: "10å…ƒ/å“©", sortVal: 4.5,
                limit: "æµ·å¤–å›é¥‹ç„¡ä¸Šé™",
                period: "é•·æœŸæœ‰æ•ˆ"
            },

            // ==========================================
            // 3. å½±éŸ³ / éŠæˆ² / AI / å­¸ç¿’ (å®Œæ•´æ¸…å–®)
            // ==========================================
            {
                group: "ğŸ® éŠæˆ² / å½±éŸ³ / AI",
                keywords: ["netflix", "disney", "disney+", "youtube", "spotify", "steam", "playstation", "nintendo", "mycard", "éŠæˆ²æ©˜å­", "chatgpt", "notion", "canva", "perplexity", "claude", "knowledge satellite", "amazing talker", "tutorabc", "hahow", "pressplay"],
                cardName: "å°æ–° Richart å¡",
                scheme: "åˆ‡æ›ã€æ•¸è¶£åˆ·ã€‘", schemeType: "taishin",
                method: "ç¶å®šæ‰£æ¬¾", rate: "3.3%", sortVal: 3.3,
                limit: "æ¶µè“‹ä¸»æµå½±éŸ³ã€éŠæˆ²ã€AIã€ç·šä¸Šèª²ç¨‹",
                period: "2026/1/1 ~ 2026/6/30"
            },
            {
                group: "ğŸ® éŠæˆ² / å½±éŸ³ / AI",
                keywords: ["netflix", "disney", "youtube", "spotify", "google play", "apple media", "chatgpt", "notion", "canva", "claude", "duolingo", "gamma", "gemini", "perplexity", "speak"],
                cardName:
